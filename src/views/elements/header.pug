header#header(noselect)

  section#header-dummy

  section#header-cover(status="hide")

  setcion#header-nav(status="top" dropdown="close" noselect)

    setcion#header-always

      .left
        button#button-header-always-index(small ellipse outline) Index
        a#button-header-always-blog(href="/b/index" button lapis) 
          button(small ellipse outline) Blog
        a#button-header-always-amuject(href="/a" button lapis)
          button(small ellipse outline) Amuject

      .center
        a.logo(href="/" lapis)
          .icon 
            include /views/elements/svg/wanyne-logo-icon
          .title
            include /views/elements/svg/wanyne-logo-text

      .right
        if (req.login)
          button#button-header-always-account(small ellipse outline)!= req.account.label
        else
          button#button-header-always-login(small ellipse outline) Login

    section#header-dropdown 

      .wrapper

        .links

          a(href="/b/index" lapis) 
            h2 Blog
              .underline
          a(href="/a" lapis)
            h2 Amuject
              .underline
          a(href="/w" lapis)
            h2 Works
              .underline
          a(href="/w/greenbee" lapis)
            h3 Greenbee
              .underline
          a(href="/a/co" lapis)
            h2 Co-Amuject
              .underline

  section#header-when 

    if (req.login)
      section.when.layer#header-account(type="narrow" status="hide")
        .layer.bg
        .layer.cl
          .wrapper
            button#button-header-account-close(tooltip="ë‹«ê¸°" ellipse magnify).close
              include /views/elements/svg/header-button-close
        .layer.fg
          .wrapper.front
            h2!= "ì•ˆë…•ğŸ‘‹, " + req.account.label
            a(href="/u/profile" button lapis)
              button#button-header-account-manage ê³„ì • ê´€ë¦¬
            if (req.hasPermission('manage.root'))
              a(href="/m/auth/accounts" button lapis)
                button#button-header-manage ì™€ë‹ˆë„¤ ê´€ë¦¬
            button#button-header-account-logout ë¡œê·¸ì•„ì›ƒ
          .wrapper.back
            h2 ë¡œê·¸ì•„ì›ƒ ì¤‘â³...

    else
      section.when.layer#header-login(type="narrow" status="hide")
        .layer.bg
        .layer.cl
          .wrapper
            button#button-header-login-close(tooltip="ë‹«ê¸°" ellipse magnify).close
              include /views/elements/svg/header-button-close
        .layer.fg
          .wrapper.front
            h2 ë¡œê·¸ì¸ğŸ”’
            form(onsubmit="return false;")
              .input.text(label="inner")
                input#input-header-login-account.btn(type="text" name="id" placeholder="ê³„ì • ID í˜¹ì€ ì´ë©”ì¼" spellcheck="false" required) 
                label ê³„ì •
                .border
              .input.text(label="inner")
                input#input-header-login-password.btn(type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" spellcheck="false" required) 
                label ë¹„ë°€ë²ˆí˜¸
                .border
                #button-header-login-reset-password(status="hide")
                  a(href="/u/reset-password" button lapis) 
                    button(type="button" color="red" small magnify) ğŸ¤¯ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë¥´ê² ì–´!ğŸ’¥
              .input.checkbox.right
                input#input-header-login-keep(type="checkbox" name="keeplogin")
                label ë¡œê·¸ì¸ ì„¸ì…˜ ìœ ì§€
                .checkbtn
              button#button-header-login-submit ë¡œê·¸ì¸
          .wrapper.back
            h2 ê³„ì • í™•ì¸ ì¤‘â³...

lapis-script(type="module" src="/resources/elements/header.mjs" defer="defer")
if redir
  lapis-script(eval="window.global.redir = '" + redir + "';")
if loginpage
  lapis-script(eval="window.global.loginpage = true;")
